<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>SeoX API - Dashboard</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body style="background:#0b0f1a;color:white;padding:40px">

<h1>ğŸš€ SeoX API Dashboard</h1>

<p>API Key'in:</p>
<pre id="apiKeyBox">HenÃ¼z oluÅŸturulmadÄ±</pre>

<button onclick="createKey()">ğŸ”‘ API Key OluÅŸtur</button>

<script>
const API_BASE = "https://seo-api-8qsy.onrender.com";
const token = localStorage.getItem("token");

if(!token){
  alert("GiriÅŸ yapman gerekiyor");
  window.location.href = "/";
}

function createKey(){
  fetch(`${API_BASE}/create-api-key?token=${token}`,{
    method:"POST"
  })
  .then(async r=>{
    const data = await r.json();
    if(!r.ok){
      alert(data.detail || "Hata oluÅŸtu");
      return;
    }
    document.getElementById("apiKeyBox").innerText = data.api_key;
  })
  .catch(err=>{
    alert("Sunucu hatasÄ±");
    console.error(err);
  });
}
</script>

</body>
</html>
